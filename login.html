<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmer Portal | Disease Diagnostic</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(to bottom, #F5F5F5, #E8F5E9);
            color: #2E2E2E;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 500px;
            width: 100%;
            transition: all 0.3s ease;
        }

        .header {
            background-color: #4CAF50;
            color: white;
            padding: 25px;
            border-radius: 12px 12px 0 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .header h1 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .form-container {
            background-color: #FFFFFF;
            padding: 30px;
            border-radius: 0 0 12px 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .section-title {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #4CAF50;
            padding-bottom: 10px;
            border-bottom: 2px solid #E8F5E9;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2E2E2E;
        }

        .required::after {
            content: " *";
            color: #FF5722;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border 0.3s;
            font-family: 'Roboto', sans-serif;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
        }

        .input-with-icon {
            position: relative;
        }

        .input-with-icon i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #8BC34A;
        }

        .password-toggle {
            cursor: pointer;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 20px;
        }

        .checkbox-group input {
            width: auto;
            margin-top: 5px;
        }

        .checkbox-group label {
            font-weight: normal;
            margin-bottom: 0;
        }

        .terms-link {
            color: #4CAF50;
            text-decoration: none;
        }

        .terms-link:hover {
            text-decoration: underline;
        }

        .btn {
            padding: 14px 20px;
            border: none;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }

        .btn-primary {
            background-color: #4CAF50;
            color: white;
        }

        .btn-primary:hover {
            background-color: #3d8b40;
        }

        .btn-secondary {
            background-color: #FFD700;
            color: #2E2E2E;
            margin-top: 10px;
        }

        .btn-secondary:hover {
            background-color: #e6c200;
        }

        .btn-otp {
            background-color: #8BC34A;
            color: white;
            width: 48%;
            float: right;
        }

        .btn-otp:hover {
            background-color: #7cb342;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .optional {
            color: #888;
            font-style: italic;
            font-size: 0.9rem;
        }

        .footer {
            margin-top: 20px;
            color: #666;
            font-size: 0.9rem;
            text-align: center;
        }

        .switch-form {
            text-align: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #E8F5E9;
        }

        .switch-link {
            color: #4CAF50;
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
        }

        .switch-link:hover {
            text-decoration: underline;
        }

        .alert {
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .alert-success {
            background-color: #E8F5E9;
            color: #2E7D32;
            border-left: 4px solid #4CAF50;
        }

        .alert-error {
            background-color: #FFEBEE;
            color: #C62828;
            border-left: 4px solid #FF5722;
        }

        /* Form visibility control */
        #loginForm {
            display: block;
        }

        #registrationForm {
            display: none;
        }

        .back-to-login {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #4CAF50;
            margin-bottom: 15px;
            cursor: pointer;
            font-weight: 500;
        }

        .back-to-login:hover {
            text-decoration: underline;
        }

        /* Role selection styles */
        .role-selection {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .role-option {
            flex: 1;
            min-width: 120px;
        }

        .role-option input[type="checkbox"] {
            display: none;
        }

        .role-option label {
            display: block;
            padding: 12px 15px;
            background-color: #F5F5F5;
            border: 2px solid #ddd;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: normal;
            margin-bottom: 0;
        }

        .role-option input[type="checkbox"]:checked + label {
            background-color: #E8F5E9;
            border-color: #4CAF50;
            color: #2E7D32;
            font-weight: 500;
        }

        .role-option label:hover {
            background-color: #E8F5E9;
        }

        .role-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
            display: block;
        }

        /* New styles for improved UI */
        .form-section {
            margin-bottom: 25px;
        }

        .section-divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #E8F5E9, transparent);
            margin: 25px 0;
        }

        .input-error {
            border-color: #FF5722;
            box-shadow: 0 0 0 2px rgba(255, 87, 34, 0.2);
        }

        .error-message {
            color: #FF5722;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }

        .success-message {
            color: #4CAF50;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }

        .progress-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            position: relative;
        }

        .progress-indicator::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: #E8F5E9;
            z-index: 1;
        }

        .progress-step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #E8F5E9;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: #888;
            position: relative;
            z-index: 2;
        }

        .progress-step.active {
            background-color: #4CAF50;
            color: white;
        }

        .progress-step.completed {
            background-color: #8BC34A;
            color: white;
        }

        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid #4CAF50;
            color: #4CAF50;
        }

        .btn-outline:hover {
            background-color: #E8F5E9;
        }

        .form-step {
            display: none;
        }

        .form-step.active {
            display: block;
        }

        /* Role-specific sections */
        .role-section {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #F9F9F9;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
        }

        .role-section.active {
            display: block;
        }

        .role-section-title {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #4CAF50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .product-categories {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .category-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .category-option input {
            width: auto;
        }

        .category-option label {
            margin-bottom: 0;
            font-weight: normal;
        }

        .crop-selection {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .crop-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .crop-option input {
            width: auto;
        }

        .crop-option label {
            margin-bottom: 0;
            font-weight: normal;
        }

        .soil-type-selection {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .soil-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .soil-option input {
            width: auto;
        }

        .soil-option label {
            margin-bottom: 0;
            font-weight: normal;
        }

        .irrigation-methods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .irrigation-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .irrigation-option input {
            width: auto;
        }

        .irrigation-option label {
            margin-bottom: 0;
            font-weight: normal;
        }

        .buyer-type-selection {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .buyer-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .buyer-option input {
            width: auto;
        }

        .buyer-option label {
            margin-bottom: 0;
            font-weight: normal;
        }

        .purchase-frequency {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .frequency-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .frequency-option input {
            width: auto;
        }

        .frequency-option label {
            margin-bottom: 0;
            font-weight: normal;
        }

        /* Google Translate Widget Styles */
        #google_translate_element {
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 9999;
            background: #4CAF50;
            border-radius: 5px;
            padding: 5px;
        }

        #google_translate_element select {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 5px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
        }

        .goog-te-gadget {
            font-family: 'Roboto', sans-serif !important;
        }

        .goog-te-gadget-simple {
            background-color: #4CAF50 !important;
            border: none !important;
            padding: 5px !important;
            border-radius: 5px !important;
        }

        .goog-te-menu-value span {
            color: white !important;
        }

        .goog-te-menu-value span:first-child {
            color: white !important;
        }

        .goog-te-menu-value span:last-child {
            border-left: none !important;
        }

        .goog-te-gadget img {
            display: none !important;
        }

        /* Hide Google Translate attribution */
        .goog-logo-link {
            display: none !important;
        }

        .goog-te-gadget span a[href] {
            display: none !important;
        }

        .skiptranslate iframe {
            display: none !important;
        }

        @media (max-width: 768px) {
            .container {
                max-width: 100%;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .role-selection {
                flex-direction: column;
            }
            
            .role-option {
                min-width: 100%;
            }
            
            .progress-indicator {
                padding: 0 10px;
            }
            
            .product-categories,
            .crop-selection,
            .soil-type-selection,
            .irrigation-methods,
            .buyer-type-selection,
            .purchase-frequency {
                grid-template-columns: 1fr;
            }
            
            #google_translate_element {
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Google Translate Widget -->
    <div id="google_translate_element"></div>
    
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-seedling"></i> Farmer Portal</h1>
            <p>Plant Disease Diagnostics & Agricultural Support</p>
        </div>
        
        <div class="form-container">
            <!-- Login Form -->
            <div id="loginForm">
                <h2 class="section-title"><i class="fas fa-sign-in-alt"></i> Login to Your Account</h2>
                
                <div id="loginAlert" class="alert"></div>
                
                <div class="form-group">
                    <label for="loginId" class="required">Username or Mobile Number</label>
                    <div class="input-with-icon">
                        <input type="text" id="loginId" placeholder="Enter username or mobile number">
                        <i class="fas fa-user"></i>
                    </div>
                    <div id="loginIdError" class="error-message"></div>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword" class="required">Password</label>
                    <div class="input-with-icon">
                        <input type="password" id="loginPassword" placeholder="Enter your password">
                        <i class="fas fa-lock password-toggle" onclick="togglePassword('loginPassword', this)"></i>
                    </div>
                    <div id="loginPasswordError" class="error-message"></div>
                </div>
                
                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="rememberMe">
                        <label for="rememberMe">Remember me on this device</label>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="loginUser()">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
                
                <div class="switch-form">
                    <p>Don't have an account? <a class="switch-link" onclick="showRegistration()">Register here</a></p>
                </div>
            </div>
            
            <!-- Registration Form -->
            <div id="registrationForm">
                <div class="back-to-login" onclick="showLogin()">
                    <i class="fas fa-arrow-left"></i> Back to Login
                </div>
                
                <h2 class="section-title"><i class="fas fa-user-plus"></i> Create New Account</h2>
                
                <div id="registerAlert" class="alert"></div>
                
                <!-- Progress Indicator -->
                <div class="progress-indicator">
                    <div class="progress-step active" id="step1">1</div>
                    <div class="progress-step" id="step2">2</div>
                    <div class="progress-step" id="step3">3</div>
                </div>
                
                <!-- Step 1: Basic Information -->
                <div class="form-step active" id="step1Form">
                    <h3 style="margin: 20px 0 15px; color: #4CAF50; font-size: 1.2rem;">Basic Information</h3>
                    
                    <div class="form-group">
                        <label for="fullName" class="required">Full Name</label>
                        <div class="input-with-icon">
                            <input type="text" id="fullName" placeholder="Enter your full name">
                            <i class="fas fa-user"></i>
                        </div>
                        <div id="fullNameError" class="error-message"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="required">What describes you best?</label>
                        <div class="role-selection">
                            <div class="role-option">
                                <input type="checkbox" id="roleFarmer" name="userRole" value="farmer" onchange="toggleRoleSection('farmer')">
                                <label for="roleFarmer">
                                    <span class="role-icon">👨‍🌾</span>
                                    Farmer
                                </label>
                            </div>
                            <div class="role-option">
                                <input type="checkbox" id="roleSales" name="userRole" value="sales" onchange="toggleRoleSection('sales')">
                                <label for="roleSales">
                                    <span class="role-icon">📊</span>
                                    Sales
                                </label>
                            </div>
                            <div class="role-option">
                                <input type="checkbox" id="roleBuyer" name="userRole" value="buyer" onchange="toggleRoleSection('buyer')">
                                <label for="roleBuyer">
                                    <span class="role-icon">🛒</span>
                                    Buyer
                                </label>
                            </div>
                        </div>
                        <div id="roleError" class="error-message"></div>
                        <small class="optional">You can select more than one option</small>
                    </div>
                    
                    <!-- Farmer Role Section -->
                    <div class="role-section" id="farmerSection">
                        <h3 class="role-section-title"><i class="fas fa-tractor"></i> Farmer Details</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="farmName">Farm Name</label>
                                <input type="text" id="farmName" placeholder="Enter your farm name">
                            </div>
                            
                            <div class="form-group">
                                <label for="farmSize">Farm Size (acres)</label>
                                <input type="number" id="farmSize" placeholder="Size in acres">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Primary Crops Grown</label>
                            <div class="crop-selection">
                                <div class="crop-option">
                                    <input type="checkbox" id="cropRice" name="crops" value="rice">
                                    <label for="cropRice">Rice</label>
                                </div>
                                <div class="crop-option">
                                    <input type="checkbox" id="cropWheat" name="crops" value="wheat">
                                    <label for="cropWheat">Wheat</label>
                                </div>
                                <div class="crop-option">
                                    <input type="checkbox" id="cropCorn" name="crops" value="corn">
                                    <label for="cropCorn">Corn</label>
                                </div>
                                <div class="crop-option">
                                    <input type="checkbox" id="cropCotton" name="crops" value="cotton">
                                    <label for="cropCotton">Cotton</label>
                                </div>
                                <div class="crop-option">
                                    <input type="checkbox" id="cropSugarcane" name="crops" value="sugarcane">
                                    <label for="cropSugarcane">Sugarcane</label>
                                </div>
                                <div class="crop-option">
                                    <input type="checkbox" id="cropVegetables" name="crops" value="vegetables">
                                    <label for="cropVegetables">Vegetables</label>
                                </div>
                                <div class="crop-option">
                                    <input type="checkbox" id="cropFruits" name="crops" value="fruits">
                                    <label for="cropFruits">Fruits</label>
                                </div>
                                <div class="crop-option">
                                    <input type="checkbox" id="cropOther" name="crops" value="other">
                                    <label for="cropOther">Other</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Soil Type</label>
                            <div class="soil-type-selection">
                                <div class="soil-option">
                                    <input type="radio" id="soilLoamy" name="soilType" value="loamy">
                                    <label for="soilLoamy">Loamy</label>
                                </div>
                                <div class="soil-option">
                                    <input type="radio" id="soilClay" name="soilType" value="clay">
                                    <label for="soilClay">Clay</label>
                                </div>
                                <div class="soil-option">
                                    <input type="radio" id="soilSandy" name="soilType" value="sandy">
                                    <label for="soilSandy">Sandy</label>
                                </div>
                                <div class="soil-option">
                                    <input type="radio" id="soilSilt" name="soilType" value="silt">
                                    <label for="soilSilt">Silt</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Irrigation Method</label>
                            <div class="irrigation-methods">
                                <div class="irrigation-option">
                                    <input type="radio" id="irrigationDrip" name="irrigation" value="drip">
                                    <label for="irrigationDrip">Drip</label>
                                </div>
                                <div class="irrigation-option">
                                    <input type="radio" id="irrigationSprinkler" name="irrigation" value="sprinkler">
                                    <label for="irrigationSprinkler">Sprinkler</label>
                                </div>
                                <div class="irrigation-option">
                                    <input type="radio" id="irrigationFlood" name="irrigation" value="flood">
                                    <label for="irrigationFlood">Flood</label>
                                </div>
                                <div class="irrigation-option">
                                    <input type="radio" id="irrigationManual" name="irrigation" value="manual">
                                    <label for="irrigationManual">Manual</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="farmingExperience">Farming Experience (years)</label>
                            <input type="number" id="farmingExperience" placeholder="Years of experience">
                        </div>
                    </div>
                    
                    <!-- Sales Role Section -->
                    <div class="role-section" id="salesSection">
                        <h3 class="role-section-title"><i class="fas fa-store"></i> Sales Details</h3>
                        
                        <div class="form-group">
                            <label>Do you have a shop?</label>
                            <div style="display: flex; gap: 20px; margin-top: 10px;">
                                <div>
                                    <input type="radio" id="shopYes" name="hasShop" value="yes" onchange="toggleShopDetails(true)">
                                    <label for="shopYes">Yes</label>
                                </div>
                                <div>
                                    <input type="radio" id="shopNo" name="hasShop" value="no" onchange="toggleShopDetails(false)">
                                    <label for="shopNo">No</label>
                                </div>
                            </div>
                        </div>
                        
                        <div id="shopDetails" style="display: none;">
                            <div class="form-group">
                                <label for="shopName">Shop Name</label>
                                <input type="text" id="shopName" placeholder="Enter your shop name">
                            </div>
                            
                            <div class="form-group">
                                <label for="shopAddress">Shop Address</label>
                                <textarea id="shopAddress" rows="2" placeholder="Shop location details"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="shopLicense">Shop License Number</label>
                                <input type="text" id="shopLicense" placeholder="License number (if applicable)">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>What products do you sell?</label>
                            <div class="product-categories">
                                <div class="category-option">
                                    <input type="checkbox" id="productSeeds" name="products" value="seeds">
                                    <label for="productSeeds">Seeds</label>
                                </div>
                                <div class="category-option">
                                    <input type="checkbox" id="productFertilizers" name="products" value="fertilizers">
                                    <label for="productFertilizers">Fertilizers</label>
                                </div>
                                <div class="category-option">
                                    <input type="checkbox" id="productPesticides" name="products" value="pesticides">
                                    <label for="productPesticides">Pesticides</label>
                                </div>
                                <div class="category-option">
                                    <input type="checkbox" id="productTools" name="products" value="tools">
                                    <label for="productTools">Tools & Equipment</label>
                                </div>
                                <div class="category-option">
                                    <input type="checkbox" id="productVegetables" name="products" value="vegetables">
                                    <label for="productVegetables">Vegetables</label>
                                </div>
                                <div class="category-option">
                                    <input type="checkbox" id="productFruits" name="products" value="fruits">
                                    <label for="productFruits">Fruits</label>
                                </div>
                                <div class="category-option">
                                    <input type="checkbox" id="productGrains" name="products" value="grains">
                                    <label for="productGrains">Grains</label>
                                </div>
                                <div class="category-option">
                                    <input type="checkbox" id="productOther" name="products" value="other">
                                    <label for="productOther">Other</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="businessYears">Years in Business</label>
                            <input type="number" id="businessYears" placeholder="Years of operation">
                        </div>
                    </div>
                    
                    <!-- Buyer Role Section -->
                    <div class="role-section" id="buyerSection">
                        <h3 class="role-section-title"><i class="fas fa-shopping-cart"></i> Buyer Details</h3>
                        
                        <div class="form-group">
                            <label>Type of Buyer</label>
                            <div class="buyer-type-selection">
                                <div class="buyer-option">
                                    <input type="radio" id="buyerIndividual" name="buyerType" value="individual">
                                    <label for="buyerIndividual">Individual</label>
                                </div>
                                <div class="buyer-option">
                                    <input type="radio" id="buyerRetailer" name="buyerType" value="retailer">
                                    <label for="buyerRetailer">Retailer</label>
                                </div>
                                <div class="buyer-option">
                                    <input type="radio" id="buyerWholesaler" name="buyerType" value="wholesaler">
                                    <label for="buyerWholesaler">Wholesaler</label>
                                </div>
                                <div class="buyer-option">
                                    <input type="radio" id="buyerExporter" name="buyerType" value="exporter">
                                    <label for="buyerExporter">Exporter</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Purchase Frequency</label>
                            <div class="purchase-frequency">
                                <div class="frequency-option">
                                    <input type="radio" id="frequencyDaily" name="purchaseFrequency" value="daily">
                                    <label for="frequencyDaily">Daily</label>
                                </div>
                                <div class="frequency-option">
                                    <input type="radio" id="frequencyWeekly" name="purchaseFrequency" value="weekly">
                                    <label for="frequencyWeekly">Weekly</label>
                                </div>
                                <div class="frequency-option">
                                    <input type="radio" id="frequencyMonthly" name="purchaseFrequency" value="monthly">
                                    <label for="frequencyMonthly">Monthly</label>
                                </div>
                                <div class="frequency-option">
                                    <input type="radio" id="frequencySeasonal" name="purchaseFrequency" value="seasonal">
                                    <label for="frequencySeasonal">Seasonal</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="preferredProducts">Preferred Products</label>
                            <textarea id="preferredProducts" rows="2" placeholder="What products are you interested in purchasing?"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="annualPurchaseVolume">Annual Purchase Volume (approx.)</label>
                            <input type="text" id="annualPurchaseVolume" placeholder="e.g., 1000 kg, 500 units">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="mobile" class="required">Mobile Number</label>
                            <div class="input-with-icon">
                                <input type="tel" id="mobile" placeholder="10-digit mobile number" maxlength="10">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <div id="mobileError" class="error-message"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email ID <span class="optional">(optional)</span></label>
                            <div class="input-with-icon">
                                <input type="email" id="email" placeholder="Enter your email">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div id="emailError" class="error-message"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="address" class="required">Address / Location</label>
                        <textarea id="address" rows="3" placeholder="Village, District, State"></textarea>
                        <div id="addressError" class="error-message"></div>
                    </div>
                    
                    <div class="form-navigation">
                        <button class="btn btn-outline" onclick="nextStep(2)">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Step 2: Authentication Details -->
                <div class="form-step" id="step2Form">
                    <h3 style="margin: 20px 0 15px; color: #4CAF50; font-size: 1.2rem;">Authentication Details</h3>
                    
                    <div class="form-group">
                        <label for="username" class="required">Username</label>
                        <div class="input-with-icon">
                            <input type="text" id="username" placeholder="Choose a username">
                            <i class="fas fa-at"></i>
                        </div>
                        <div id="usernameError" class="error-message"></div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="password" class="required">Password</label>
                            <div class="input-with-icon">
                                <input type="password" id="password" placeholder="Create a password">
                                <i class="fas fa-lock password-toggle" onclick="togglePassword('password', this)"></i>
                            </div>
                            <div id="passwordError" class="error-message"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmPassword" class="required">Confirm Password</label>
                            <div class="input-with-icon">
                                <input type="password" id="confirmPassword" placeholder="Re-enter your password">
                                <i class="fas fa-lock"></i>
                            </div>
                            <div id="confirmPasswordError" class="error-message"></div>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="requestOTP()">
                            <i class="fas fa-sms"></i> Verify via OTP
                        </button>
                    </div>
                    
                    <div class="form-navigation">
                        <button class="btn btn-outline" onclick="nextStep(1)">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <button class="btn btn-outline" onclick="nextStep(3)">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Step 3: Additional Information -->
                <div class="form-step" id="step3Form">
                    <h3 style="margin: 20px 0 15px; color: #4CAF50; font-size: 1.2rem;">Additional Information <span class="optional">(optional)</span></h3>
                    
                    <div class="form-group">
                        <label for="referralSource">How did you hear about us?</label>
                        <select id="referralSource">
                            <option value="">Select an option</option>
                            <option value="friend">Friend/Family</option>
                            <option value="social">Social Media</option>
                            <option value="newspaper">Newspaper</option>
                            <option value="tv">TV/Radio</option>
                            <option value="agricultural">Agricultural Extension Officer</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="additionalInfo">Additional Information</label>
                        <textarea id="additionalInfo" rows="3" placeholder="Any other information you'd like to share..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="newsletter">
                            <label for="newsletter">Subscribe to our agricultural newsletter for tips and updates</label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="terms" required>
                            <label for="terms" class="required">I agree to the <a href="#" class="terms-link">Terms & Conditions</a> and <a href="#" class="terms-link">Privacy Policy</a></label>
                        </div>
                        <div id="termsError" class="error-message"></div>
                    </div>
                    
                    <div class="form-navigation">
                        <button class="btn btn-outline" onclick="nextStep(2)">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <button class="btn btn-primary" onclick="registerUser()">
                            <i class="fas fa-user-plus"></i> Register
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>HACK-AI-THON 2.0 | Team GenZ Coderz | Farmer's Disease Diagnostic Portal</p>
        </div>
    </div>

    <script>
        // Toggle password visibility
        function togglePassword(inputId, icon) {
            const passwordInput = document.getElementById(inputId);
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('fa-lock');
                icon.classList.add('fa-lock-open');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('fa-lock-open');
                icon.classList.add('fa-lock');
            }
        }
        
        // Show registration form
        function showRegistration() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registrationForm').style.display = 'block';
            document.querySelector('.container').style.maxWidth = '800px';
            resetFormSteps();
        }
        
        // Show login form
        function showLogin() {
            document.getElementById('registrationForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
            document.querySelector('.container').style.maxWidth = '500px';
        }
        
        // Reset form steps to initial state
        function resetFormSteps() {
            document.querySelectorAll('.form-step').forEach(step => {
                step.classList.remove('active');
            });
            document.getElementById('step1Form').classList.add('active');
            
            document.querySelectorAll('.progress-step').forEach(step => {
                step.classList.remove('active', 'completed');
            });
            document.getElementById('step1').classList.add('active');
            
            // Hide all role sections initially
            document.querySelectorAll('.role-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Reset shop details
            document.getElementById('shopDetails').style.display = 'none';
        }
        
        // Toggle role-specific sections
        function toggleRoleSection(role) {
            const section = document.getElementById(`${role}Section`);
            const checkbox = document.getElementById(`role${role.charAt(0).toUpperCase() + role.slice(1)}`);
            
            if (checkbox.checked) {
                section.classList.add('active');
            } else {
                section.classList.remove('active');
            }
        }
        
        // Toggle shop details for sales role
        function toggleShopDetails(show) {
            const shopDetails = document.getElementById('shopDetails');
            if (show) {
                shopDetails.style.display = 'block';
            } else {
                shopDetails.style.display = 'none';
            }
        }
        
        // Navigate between form steps
        function nextStep(stepNumber) {
            // Validate current step before proceeding
            if (stepNumber === 2 && !validateStep1()) {
                return;
            }
            
            if (stepNumber === 3 && !validateStep2()) {
                return;
            }
            
            // Hide all steps
            document.querySelectorAll('.form-step').forEach(step => {
                step.classList.remove('active');
            });
            
            // Show the selected step
            document.getElementById(`step${stepNumber}Form`).classList.add('active');
            
            // Update progress indicator
            document.querySelectorAll('.progress-step').forEach(step => {
                step.classList.remove('active');
            });
            document.getElementById(`step${stepNumber}`).classList.add('active');
            
            // Mark previous steps as completed
            for (let i = 1; i < stepNumber; i++) {
                document.getElementById(`step${i}`).classList.add('completed');
            }
        }
        
        // Validate Step 1 (Basic Information)
        function validateStep1() {
            let isValid = true;
            
            // Validate full name
            const fullName = document.getElementById('fullName').value.trim();
            if (!fullName) {
                showFieldError('fullNameError', 'Please enter your full name');
                isValid = false;
            } else {
                hideFieldError('fullNameError');
            }
            
            // Validate role selection
            const roleCheckboxes = document.querySelectorAll('input[name="userRole"]:checked');
            if (roleCheckboxes.length === 0) {
                showFieldError('roleError', 'Please select at least one role');
                isValid = false;
            } else {
                hideFieldError('roleError');
            }
            
            // Validate mobile number
            const mobile = document.getElementById('mobile').value.trim();
            if (!mobile) {
                showFieldError('mobileError', 'Please enter your mobile number');
                isValid = false;
            } else if (mobile.length !== 10 || !/^\d+$/.test(mobile)) {
                showFieldError('mobileError', 'Please enter a valid 10-digit mobile number');
                isValid = false;
            } else {
                hideFieldError('mobileError');
            }
            
            // Validate address
            const address = document.getElementById('address').value.trim();
            if (!address) {
                showFieldError('addressError', 'Please enter your address');
                isValid = false;
            } else {
                hideFieldError('addressError');
            }
            
            return isValid;
        }
        
        // Validate Step 2 (Authentication Details)
        function validateStep2() {
            let isValid = true;
            
            // Validate username
            const username = document.getElementById('username').value.trim();
            if (!username) {
                showFieldError('usernameError', 'Please choose a username');
                isValid = false;
            } else if (username.length < 3) {
                showFieldError('usernameError', 'Username must be at least 3 characters long');
                isValid = false;
            } else {
                hideFieldError('usernameError');
            }
            
            // Validate password
            const password = document.getElementById('password').value;
            if (!password) {
                showFieldError('passwordError', 'Please create a password');
                isValid = false;
            } else if (password.length < 6) {
                showFieldError('passwordError', 'Password must be at least 6 characters long');
                isValid = false;
            } else {
                hideFieldError('passwordError');
            }
            
            // Validate confirm password
            const confirmPassword = document.getElementById('confirmPassword').value;
            if (!confirmPassword) {
                showFieldError('confirmPasswordError', 'Please confirm your password');
                isValid = false;
            } else if (password !== confirmPassword) {
                showFieldError('confirmPasswordError', 'Passwords do not match');
                isValid = false;
            } else {
                hideFieldError('confirmPasswordError');
            }
            
            return isValid;
        }
        
        // Show field error message
        function showFieldError(errorElementId, message) {
            const errorElement = document.getElementById(errorElementId);
            errorElement.textContent = message;
            errorElement.style.display = 'block';
            
            // Add error styling to the input field
            const inputId = errorElementId.replace('Error', '');
            const inputElement = document.getElementById(inputId);
            if (inputElement) {
                inputElement.classList.add('input-error');
            }
        }
        
        // Hide field error message
        function hideFieldError(errorElementId) {
            const errorElement = document.getElementById(errorElementId);
            errorElement.style.display = 'none';
            
            // Remove error styling from the input field
            const inputId = errorElementId.replace('Error', '');
            const inputElement = document.getElementById(inputId);
            if (inputElement) {
                inputElement.classList.remove('input-error');
            }
        }
        
        // Request OTP
        function requestOTP() {
            const mobile = document.getElementById('mobile').value;
            if (!mobile || mobile.length !== 10) {
                showAlert('registerAlert', 'Please enter a valid 10-digit mobile number first.', 'error');
                return;
            }
            
            // Simulate OTP request
            showAlert('registerAlert', `OTP has been sent to ${mobile}. Please check your messages.`, 'success');
            
            // In a real application, you would make an API call here
        }
        
        // Register user
        function registerUser() {
            // Validate all steps
            if (!validateStep1() || !validateStep2()) {
                showAlert('registerAlert', 'Please fix the errors in the form before submitting.', 'error');
                return;
            }
            
            // Check if terms are accepted
            if (!document.getElementById('terms').checked) {
                showFieldError('termsError', 'Please accept the Terms & Conditions to proceed.');
                showAlert('registerAlert', 'Please accept the Terms & Conditions to proceed.', 'error');
                return;
            } else {
                hideFieldError('termsError');
            }
            
            // Get selected roles
            const roleCheckboxes = document.querySelectorAll('input[name="userRole"]:checked');
            const selectedRoles = Array.from(roleCheckboxes).map(cb => cb.value);
            
            // Collect role-specific data
            const userData = {
                roles: selectedRoles,
                basicInfo: {
                    fullName: document.getElementById('fullName').value,
                    mobile: document.getElementById('mobile').value,
                    email: document.getElementById('email').value,
                    address: document.getElementById('address').value
                },
                authInfo: {
                    username: document.getElementById('username').value
                }
            };
            
            // Add farmer-specific data if applicable
            if (selectedRoles.includes('farmer')) {
                userData.farmerInfo = {
                    farmName: document.getElementById('farmName').value,
                    farmSize: document.getElementById('farmSize').value,
                    crops: Array.from(document.querySelectorAll('input[name="crops"]:checked')).map(cb => cb.value),
                    soilType: document.querySelector('input[name="soilType"]:checked')?.value,
                    irrigation: document.querySelector('input[name="irrigation"]:checked')?.value,
                    farmingExperience: document.getElementById('farmingExperience').value
                };
            }
            
            // Add sales-specific data if applicable
            if (selectedRoles.includes('sales')) {
                userData.salesInfo = {
                    hasShop: document.querySelector('input[name="hasShop"]:checked')?.value,
                    shopName: document.getElementById('shopName').value,
                    shopAddress: document.getElementById('shopAddress').value,
                    shopLicense: document.getElementById('shopLicense').value,
                    products: Array.from(document.querySelectorAll('input[name="products"]:checked')).map(cb => cb.value),
                    businessYears: document.getElementById('businessYears').value
                };
            }
            
            // Add buyer-specific data if applicable
            if (selectedRoles.includes('buyer')) {
                userData.buyerInfo = {
                    buyerType: document.querySelector('input[name="buyerType"]:checked')?.value,
                    purchaseFrequency: document.querySelector('input[name="purchaseFrequency"]:checked')?.value,
                    preferredProducts: document.getElementById('preferredProducts').value,
                    annualPurchaseVolume: document.getElementById('annualPurchaseVolume').value
                };
            }
            
            // Add additional info
            userData.additionalInfo = {
                referralSource: document.getElementById('referralSource').value,
                additionalInfo: document.getElementById('additionalInfo').value,
                newsletter: document.getElementById('newsletter').checked
            };
            
            console.log('Registration data:', userData);
            
            // Simulate registration success
            showAlert('registerAlert', `Registration successful as ${selectedRoles.join(', ')}! Redirecting to dashboard...`, 'success');
            
            // In a real application, you would submit the form data to a server here
            setTimeout(() => {
                // Redirect to dashboard or next page
                alert(`Registration complete! You've registered as: ${selectedRoles.join(', ')}. In a real application, this would redirect to the dashboard.`);
                showLogin(); // Go back to login after registration
            }, 2000);
        }
        
        // Login user
        function loginUser() {
            const loginId = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!loginId) {
                showFieldError('loginIdError', 'Please enter your username or mobile number');
                return;
            } else {
                hideFieldError('loginIdError');
            }
            
            if (!password) {
                showFieldError('loginPasswordError', 'Please enter your password');
                return;
            } else {
                hideFieldError('loginPasswordError');
            }
            
            // Simulate login success
            showAlert('loginAlert', 'Login successful! Redirecting to dashboard...', 'success');
            
            // Redirect to dashboard after successful login
            setTimeout(() => {
                if (window.location.href.startsWith("file:") || window.location.href.includes("5500")) {
                    // Live Server / direct HTML
                    window.location.href = "dashboard.html";
                } else {
                    // Flask
                    window.location.href = "/dashboard";
                }
            }, 1500);
        }
        
        // Show alert message
        function showAlert(alertId, message, type) {
            const alertElement = document.getElementById(alertId);
            alertElement.textContent = message;
            alertElement.className = 'alert';
            alertElement.classList.add(type === 'success' ? 'alert-success' : 'alert-error');
            alertElement.style.display = 'block';
            
            // Auto-hide after 5 seconds
            setTimeout(() => {
                alertElement.style.display = 'none';
            }, 5000);
        }
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Page starts with login form visible
            showLogin();
            
            // Add input event listeners for real-time validation
            document.getElementById('mobile').addEventListener('input', function() {
                this.value = this.value.replace(/\D/g, '').substring(0, 10);
            });
        });
    </script>
    
    <!-- Google Translate Script -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'en,hi,ta,te,ml,bn,kn,mr,gu,pa',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
        }
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>